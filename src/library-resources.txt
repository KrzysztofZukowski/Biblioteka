<!-- src/main/resources/META-INF/persistence.xml -->
<?xml version="1.0" encoding="UTF-8"?>
<persistence xmlns="https://jakarta.ee/xml/ns/persistence"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="https://jakarta.ee/xml/ns/persistence
             https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd"
             version="3.0">
    
    <persistence-unit name="library-pu" transaction-type="RESOURCE_LOCAL">
        <provider>org.hibernate.jpa.HibernatePersistenceProvider</provider>
        
        <class>pl.biblioteka.model.User</class>
        <class>pl.biblioteka.model.Book</class>
        <class>pl.biblioteka.model.Rental</class>
        
        <properties>
            <property name="jakarta.persistence.jdbc.driver" value="org.sqlite.JDBC"/>
            <property name="jakarta.persistence.jdbc.url" value="jdbc:sqlite:library.db"/>
            
            <property name="hibernate.dialect" value="org.hibernate.community.dialect.SQLiteDialect"/>
            <property name="hibernate.hbm2ddl.auto" value="update"/>
            <property name="hibernate.show_sql" value="false"/>
            <property name="hibernate.format_sql" value="true"/>
        </properties>
    </persistence-unit>
</persistence>

<!-- src/main/resources/fxml/login.fxml -->
<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<VBox alignment="CENTER" spacing="20" xmlns="http://javafx.com/javafx/21" 
      xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="pl.biblioteka.controller.LoginController">
    
    <padding>
        <Insets top="50" right="50" bottom="50" left="50"/>
    </padding>
    
    <Label text="System Biblioteczny" styleClass="title">
        <font>
            <Font size="24.0"/>
        </font>
    </Label>
    
    <VBox spacing="15" maxWidth="300" alignment="CENTER">
        <TextField fx:id="usernameField" promptText="Nazwa użytkownika"/>
        <PasswordField fx:id="passwordField" promptText="Hasło"/>
        
        <Label fx:id="errorLabel" styleClass="error-label" visible="false"/>
        
        <HBox spacing="10" alignment="CENTER">
            <Button text="Zaloguj" onAction="#handleLogin" styleClass="primary-button"/>
            <Button text="Rejestracja" onAction="#handleRegister" styleClass="secondary-button"/>
        </HBox>
    </VBox>
</VBox>

<!-- src/main/resources/fxml/register.fxml -->
<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<VBox alignment="CENTER" spacing="20" xmlns="http://javafx.com/javafx/21" 
      xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="pl.biblioteka.controller.RegisterController">
    
    <padding>
        <Insets top="50" right="50" bottom="50" left="50"/>
    </padding>
    
    <Label text="Rejestracja nowego użytkownika" styleClass="title">
        <font>
            <Font size="20.0"/>
        </font>
    </Label>
    
    <VBox spacing="15" maxWidth="300" alignment="CENTER">
        <TextField fx:id="usernameField" promptText="Nazwa użytkownika"/>
        <TextField fx:id="emailField" promptText="Email"/>
        <PasswordField fx:id="passwordField" promptText="Hasło"/>
        <PasswordField fx:id="confirmPasswordField" promptText="Potwierdź hasło"/>
        
        <Label fx:id="errorLabel" styleClass="error-label" visible="false"/>
        
        <HBox spacing="10" alignment="CENTER">
            <Button text="Zarejestruj" onAction="#handleRegister" styleClass="primary-button"/>
            <Button text="Powrót" onAction="#handleBack" styleClass="secondary-button"/>
        </HBox>
    </VBox>
</VBox>

<!-- src/main/resources/css/style.css -->
/* Główne style aplikacji */
.root {
    -fx-background-color: #f5f5f5;
    -fx-font-family: "Segoe UI", Helvetica, Arial, sans-serif;
}

.title {
    -fx-font-size: 24px;
    -fx-font-weight: bold;
    -fx-text-fill: #333333;
}

.primary-button {
    -fx-background-color: #007bff;
    -fx-text-fill: white;
    -fx-font-size: 14px;
    -fx-padding: 8 16 8 16;
    -fx-cursor: hand;
    -fx-background-radius: 4;
}

.primary-button:hover {
    -fx-background-color: #0056b3;
}

.secondary-button {
    -fx-background-color: #6c757d;
    -fx-text-fill: white;
    -fx-font-size: 14px;
    -fx-padding: 8 16 8 16;
    -fx-cursor: hand;
    -fx-background-radius: 4;
}

.secondary-button:hover {
    -fx-background-color: #545b62;
}

.text-field, .password-field {
    -fx-font-size: 14px;
    -fx-padding: 8;
    -fx-background-radius: 4;
    -fx-border-color: #ced4da;
    -fx-border-radius: 4;
}

.text-field:focused, .password-field:focused {
    -fx-border-color: #007bff;
}

.error-label {
    -fx-text-fill: #dc3545;
    -fx-font-size: 12px;
}

.success-label {
    -fx-text-fill: #28a745;
    -fx-font-size: 12px;
}

<!-- src/main/resources/application.properties -->
# Konfiguracja aplikacji
app.name=System Biblioteczny
app.version=1.0

# API Configuration
google.books.api.url=https://www.googleapis.com/books/v1/volumes
google.books.api.key=YOUR_API_KEY_HERE

# OCR Configuration
tesseract.datapath=./tessdata
tesseract.language=pol